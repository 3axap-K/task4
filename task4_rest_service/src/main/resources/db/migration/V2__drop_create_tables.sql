-- Drop tables if they already exist
DROP TABLE IF EXISTS car_categories;
DROP TABLE IF EXISTS cars;
DROP TYPE IF EXISTS MAKE;
DROP TYPE IF EXISTS CATEGORY;
-- Create Enums

CREATE TYPE MAKE AS ENUM (
'LEXUS',
'SUBARU',
'CHEVROLET',
'CHRYSLER',
'MASERATI',
'FIAT',
'FREIGHTLINER',
'SUZUKI',
'MAZDA',
'FISKER',
'RIVIAN',
'GMC',
'LINCOLN',
'HYUNDAI',
'EAGLE',
'ASTON_MARTIN',
'ACURA',
'KIA',
'PONTIAC',
'PLYMOUTH',
'SAAB',
'GEO',
'MAYBACH',
'TOYOTA',
'JAGUAR',
'TESLA',
'MERCEDES_BENZ',
'PANOZ',
'DAEWOO',
'VOLKSWAGEN',
'VOLVO',
'SATURN',
'DODGE',
'AUDI',
'ALFA_ROMEO',
'HONDA',
'SMART',
'FERRARI',
'SRT',
'PORSCHE',
'SCION',
'OLDSMOBILE',
'ISUZU',
'INFINITI',
'ROLLS_ROYCE',
'JEEP',
'BUICK',
'POLESTAR',
'MITSUBISHI',
'LOTUS',
'BMW',
'BENTLEY',
'CADILLAC',
'LAND_ROVER',
'LAMBORGHINI',
'DAIHATSU',
'MINI',
'HUMMER',
'GENESIS',
'FORD',
'MCLAREN',
'MERCURY',
'NISSAN',
'RAM'
);

CREATE TYPE CATEGORY AS ENUM (
'SUV1992',
'CONVERTIBLE',
'VAN_MINIVAN',
'SUV2020',
'SUV',
'PICKUP',
'COUPE',
'WAGON',
'HATCHBACK',
'SEDAN'
);

-- Create tables
CREATE TABLE cars (
    car_id VARCHAR(255) PRIMARY KEY,
    car_model VARCHAR(255),
    car_year INTEGER,
    car_make MAKE
);

-- Create the car_categories table
CREATE TABLE car_categories (
    car_id VARCHAR(255),
    category CATEGORY,
    PRIMARY KEY (car_id, category),
    FOREIGN KEY (car_id) REFERENCES cars(car_id) ON DELETE CASCADE
);